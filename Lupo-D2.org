* Problema de nomeação a ser resolvido
As fotos do segundo dia de trabalho na Lupo possuem nome "DSC0<<numeral>>.JPG",  porém, a primeira foto do setor possui normeral "DSC01415.JPG".

Nos é dada a seguinte tabela,
- M1 : 1-3
- M2: 4-7
- etc.

Assim, seria ideal converter o nome DSC01415.JPG -> DSC00001.JPG. Ou, de forma mais geral, DSC0<<numeral>> -> DSC0(<<numeral>> - 1415).JPG.

** Solução com *closh* e *babashka*

#+begin_src clojure :tangle ./rename.clj :mkdirp
   #!/usr/bin/env closh-zero.jar
  
   ;; mkdir nome-convertido
  
   ;; ls |> (first) |> (map #(str/split % #"teste")) |> (first) |> (second)
  
   ;; (defn photo-id [name]
   ;;   (sh (id-ext) |> (first) |> (second) |> (map #'(str/split % #".txt")) |> (first)))
  
   ;; (defn id-string [name]
   ;;   (sh (str name)))
  
   ;; (defn ls-first []
   ;;   (sh ls |> (first)))
  
   ;; (defn id-extension [filename]
   ;;   (->
   ;;    (str/split filename #"teste")
   ;;    (first)
   ;;    (second)))
  
   (defn split-reg [filename reg] 
     (str/split filename (re-pattern reg)))
  
   ;; ls |> (map #(split-reg % "teste")) |> (map second) |> \
   ;; ;; (map #(split-reg % ".txt")) |> (map first) |> \
   ;; (map # (Integer/parseInt %))
  
   (defn file-ids [file reg1 reg2]
     (->
      (split-reg file reg1)
      (second)
      ((fn [s] (split-reg s reg2)))
      (first)
      ((fn [s] (Integer/parseInt s)))))
  
   (defn clj-rn [file reg1 arg reg2]
     (sh mv (identity file) (str/join [reg1 arg reg2])))
  
  ls |> (map #(file-ids % "teste" ".txt")) |> (map #(- % 3)) |> (map str) \
     |> (map #(clj-rn %1 "testee" %2 ".org") (sh ls |> (identity)))
  
 #+end_src

 
